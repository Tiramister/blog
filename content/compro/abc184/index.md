---
title: AtCoder Beginner Contest 184
date: 2020-11-22
tags: [atcoder, abc]
links:
  - label: Contest link
    url: https://atcoder.jp/contests/abc184
---

## 結果

ABDFCE の順番で解いた。

|      |  A   |  B   |   C   |  D   |   E   |   F   |
| :--: | :--: | :--: | :---: | :--: | :---: | :---: |
| time | 0:32 | 1:37 | 18:49 | 7:38 | 24:40 | 11:49 |
|  Δ   | 0:32 | 1:05 | 7:00  | 6:01 | 5:51  | 4:11  |

| score | time  | rank |                  perf                   |
| :---: | :---: | :--: | :-------------------------------------: |
| 2100  | 24:40 | 12th | {{<color orange>}}2400(MAX){{</color>}} |

## 問題

### C - Super Ryuma

まず高々 3 手で終わることはすぐに分かる。しかし 2 手と 3 手の判別法で少し悩んだので後回しにしていた。

まず $(r\_1, c\_1)$ から斜め移動以外で到達できるマスの集合を $S$ とする。場合分けすると以下のように解が求まる。

- $(r\_2, c\_2)$ が $S$ に含まれるか、斜め移動で $(r\_1, c\_1)$ に移動できれば答えは 1 手。
- $S$ の中に $(r\_2, c\_2)$ から斜めで移動できる場所があるか、斜め移動 2 回で移動できるなら 2 手。
- それ以外は 3 手。

$(x, y)$ から $(x\', y\')$ に斜め移動 1 回で移動できるかは $|x-x\'|=|y-y\'|$ 、2 回で移動できるかは $(x-x\')+(y-y\') \\equiv 0 \\pmod2$ で判定できる。

サンプルを試すと 0 手のケースがあるので、それを追加して AC。

...しかし、この解法には漏れがある。斜め移動を 2 連続で行わないケースである。
$(0, 0)$ から $(0, 5)$ には 2 手で行けるのだが、上の解法だと 3 手に分類される。
つまり $(r\_2, c\_2)$ から斜め移動なしで行けるマスも全て見る必要がある。要反省。

### D - increment of coins

$A, B, C$ を状態としてメモ化再帰をする。

### E - Third Avenue

超頂点の典型問題。各文字に対応する頂点を作って、マスからその頂点へ重み $1$ 、その頂点からマスへ重み $0$ の辺を張ることでワープを表現できる。

実行時間が結構大きくてビビったが、大体 $2000 \\cdot 2000 \\cdot 4 = 1.6 \\cdot 10\^7$ 辺のグラフで Dijkstra をしているので妥当だった。01-BFS をすると余裕で間に合うはず。

### F - Programming Contest

01 ナップザック問題を半分全列挙で解くのとほとんど同じアルゴリズムで解ける。

こちらはガチで実行時間が危なかった。 `set` に対する操作が結構重いのが原因と思われる。

実際 `set` を `vector` に変えたら 5 倍ほど速くなった。AtCoder では大丈夫だろうが、Codeforces とかではクリティカルになりそう。

## 反省

- C がとてもよろしくない。焦りから来る早とちりにはかなり気をつけたい。
- それ以外は速度含めてほとんど文句なしだったが、これでも ABC トーナメントとしては厳しい結果。Speedrun 回が来ないことを祈るしかない。
