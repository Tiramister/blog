---
title: "DDCC 2019 予選 D - チップ・ストーリー　～黄金編～"
date: 2020-09-06
tags: [atcoder, arc]
links:
  - label: "Problem link"
    url: "https://atcoder.jp/contests/ddcc2019-qual/tasks/ddcc2018_qual_d"
  - label: "My Submission"
    url: "https://atcoder.jp/contests/ddcc2019-qual/submissions/16534387"
---

## 問題

以下を満たす $1$ 以上 $10\^\{12\}$ 以下の整数 $n$ が存在するか判定し、存在するなら 1 つ求めよ。

- $2 \\leq i \\leq 30$ なる全ての整数 $i$ について、 $n$ を $i$ 進数表記したときの桁和が $a\_i$ である。

### 制約

- $1 \\leq a\_i \\leq 500$

## 考察

$10$ 進数表記において「 $n$ の桁和を $9$ で割った余りが、 $n$ を $9$ で割った余りと一致する」という性質があるが、これは他の進数でも成立する。すなわち、 $i$ 進数表記において「 $n$ の桁和を $i-1$ で割った余りが、 $n$ を $i-1$ で割った余りと一致する」という性質が成り立つ。

そこで、まずは必要条件として「 $2 \\leq i \\leq 30$ なる全ての整数 $i$ について、 $n \\equiv a\_i \\pmod\{i-1\}$ 」を満たす $n$ を求めることにする。
Garner のアルゴリズムでも良いが、 $n \\bmod\{i-1\}$ が $i-1$ 周期であることを考えれば、 $i-1$ 通りを全探索することで求めることができる。

ここで中国剰余定理を用いると、このような $n$ は $\\mathrm\{lcm\}(2, \\cdots, 30)$ 未満に高々 1 つしか存在しないことが分かる。そして $\\mathrm\{lcm\}(2, \\cdots, 30) \\geq 2 \\cdot 10\^\{12\}$ なので、解の候補はこの $n$ だけとなる。よってこの $n$ に対して愚直に判定をすればよい。

## 実装例

{{<code file="0.cpp" language="cpp">}}
