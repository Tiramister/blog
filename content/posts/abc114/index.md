---
title: "AtCoder Beginner Contest 114"
date: 2018-12-02
tags: [atcoder]
links:
  - label: "Contest"
    url: https://atcoder.jp/contests/abc114
---

## C - 755

### 概要

10 進法表記したときに $7, 5, 3$ が最低 1 回ずつ現れ、他の数字が現れないような数を **七五三数** と呼ぶことにする。

$1$ 以上 $N$ 以下の七五三数はいくつあるか求めよ。

#### 制約

- $1 \\leq N \\leq 10\^9$

### 解説

まず考えられるのは $1$ から $N$ まで全部判定する方法。しかし $N$ が大きすぎて現実的ではない。

桁 DP も考えられるが、C 問題にしては高度すぎるし何より実装したくない。

そこで逆に **七五三数を全列挙する** ことを考える。サンプル 3 を見れば分かるのだが、実は七五三数というのは結構少なくて十分全列挙できる。

ただし七五三数を全列挙するのはそこまで簡単ではない。私は以下のように実装した。

1. 桁数 $d$ を $3$ から $9$ まで回す。
2. $b$ を $0$ から $3\^d - 1$ まで回す。
3. $b$ を 3 進数表記したときの $i$ 桁目を $7, 5, 3$ に対応させて、長さ $d$ で $7, 5, 3$ のみからなる数を作る。
4. 「$7, 5, 3$ が出現したか」と「$N$ 以下か」をチェックし、両方満たすなら答えをインクリメントする。

手順 3 について補足しておく。例えば $b = 57$ のとき、 $b$ を３進数表記すると $2010\_\{(3)\}$ となるので $0 \\rightarrow 7, 1 \\rightarrow 5, 2 \\rightarrow 3$ と対応させることで $3757$ が作れる。

### 実装例

上の手順 3 なのだが、以下の実装例では $b$ を 3 進数表記して反転させたのちに変換したことになっている。どちらにせよ全列挙はできるので問題はない。

{{<code file="0.cpp" language="cpp">}}

## D - 756

### 概要

正の約数をちょうど $75$ 個もつ正整数を **七五数** と呼ぶことにする。

$N!$ の約数で七五数であるものの個数を求めよ。

#### 制約

- $1 \\leq N \\leq 100$

### 解説

まずは正の約数の個数に関する知識が必要となる。

ある正整数 $N$ を素因数分解したものを $\{p\_1\}\^\{a\_1\} \{p\_2\}\^\{a\_2\} \\cdots \{p\_m\}\^\{a\_m\}$ とする。
このとき $N$ の正の約数の個数は $(a\_1 + 1) (a\_2 + 1) \\cdots (a\_m + 1)$ で求められる。この解説は偉大なる [高校数学の美しい物語](https://mathtrain.jp/numberofd) 様に投げさせていただく。

$75 = 3 \\cdot 5\^2$ を $(a\_1 + 1) (a\_2 + 1) \\cdots (a\_m + 1)$ の形で表すことを考えると、七五数は以下の 4 パターンしかない事が分かる。

- $p\^\{74\}$
- $p\^2 q\^\{24\}$
- $p\^4 q\^\{14\}$
- $p\^2 q\^4 r\^4$

したがって $N!$ を素因数分解して、 $p,q,r$ を全パターン調べると答えが分かる。
$100$ 以下の素数の数は 25 個なので、パターン数は $25\^3 = 15625$ 程度になって余裕で間に合う。

ただし $p\^2 q\^4 r\^4$ のパターンは注意が必要で、 $q$ と $r$ で重複して数えてしまうことがある。これは $q \\lt r$ とすることで防げる。

### 実装例

エラトステネスの篩を実装するのが面倒だったので、ネットから引っ張ってきた素数一覧をそのままコピペしている。

{{<code file="1.cpp" language="cpp">}}
